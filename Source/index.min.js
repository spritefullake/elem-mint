var $E=function(e){return $E.mint(e)};$E.removeSection=function(e,n,t){var r=e.slice(n,t);return e=e.replace(r,"")},$E.findAttrs=function(e){var n=e.slice(e.indexOf("["),e.indexOf("]")+1).replace("[","").replace("]","").split("=");return n},$E.mint=function(e){e=e.replace(/\s+/g,""),e=e.split(",");for(var n=[],t=0,r=e.length;r>t;t++){var i,c,l,a,f,o=e[t],d="",p=[];if(o.indexOf(">")>=0){var s=o.replace(">",","),u=$E.mint(s);u=[].concat.apply([],u),u.reduce(function(e,n,t,r){return e.appendChild(n),n});for(var m=0,h=u.length;h>m;m++)n.push(u[m])}else{for(;o.indexOf("[")>=0;)p.push($E.findAttrs(o)),o=$E.removeSection(o,o.indexOf("["),o.indexOf("]")+1);if(o.indexOf("#")>=0){l=o.slice(o.indexOf("#")+1).search(/([:.[])/);var v=o.split("#")[0].length;-1==l&&(l=o.length-1),l=v+l+1,c=o.slice(o.indexOf("#")+1,l),o=$E.removeSection(o,o.indexOf("#"),l)}else c="";i=o.split("."),a=i.shift();for(var E=0,$=i.length;$>E;E++)d+=i[E],d+=" ";p=[].concat.apply([],p),d=d.trim(),f=document.createElement(a),f.id=c,f.className=d;for(var x=0,O=p.length;O>x;x++)x%2==0&&f.setAttribute(p[x],p[x+1]);n.push(f)}}return n},$E.render=function(e,n){n=n||document.body;for(var t=$E.mint(e),r=document.createDocumentFragment(),i=0,c=t.length;c>i;i++)r.appendChild(t[i]);n.appendChild(r)},module.exports=$E;